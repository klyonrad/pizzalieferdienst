<!DOCTYPE html>

<html>
<head>
<link rel="stylesheet" type="text/css" href="style.css" />
		<meta charset="UTF-8" />
		<title>Pizzabestellung</title>
		<script type="text/javascript">
			gesamt = 0.0;
			pizzen = new Array("Margherita", "Salami", "Hawaii");
			preise = new Array(4.0, 4.5, 5.5);
			function Hinzufuegen (id) {
				
				NeuerEintrag = new Option(pizzen[id], pizzen[id], false, false);
				document.input.pizzasToOrder.options[document.input.pizzasToOrder.length] = NeuerEintrag;
				gesamt = gesamt + preise[id];
				document.input.price.value = "Preis: " + gesamt.toFixed(2) + "€";
			}
			
			function resetAll(){
				document.input.pizzasToOrder.options.length = 0;
				gesamt = 0.0;
				document.input.price.value = "Preis: " + gesamt.toFixed(2) + "€";
				document.input.addressentry.value = "";
			}
			
			function deleteSelected(){
				pizza = document.input.pizzasToOrder.options[document.input.pizzasToOrder.selectedIndex].value;
				if(pizza == "Margherita")
					gesamt = gesamt - preise[0];
				if(pizza == "Salami")
					gesamt = gesamt - preise[1];
				if(pizza == "Hawaii")
					gesamt = gesamt - preise[2];
				document.input.pizzasToOrder.options[document.input.pizzasToOrder.selectedIndex] = null;
				document.input.price.value = "Preis: " + gesamt.toFixed(2) + "€";
			
			}
				
			function bestellen(){
				bestellung = "http://www.fbi.h-da.de/cgi-bin/Echo.pl?";
				if(document.input.pizzasToOrder.length > 0 && document.input.addressentry.value != ""){
					bestellung = bestellung + "Name=" + document.input.addressentry.value;
					for(i =0; i < document.input.pizzasToOrder.length; i++){
						bestellung = bestellung + "&" + "Pizza" + i + "=" + document.input.pizzasToOrder.options[i].value;
					}
					
					window.location.href = bestellung;
				}else{
					alert("Die Bestellung ist nicht vollständig!");
				}
			}	
    </script>
	</head>
	
	<body>
	<h1>Bestellung</h1>
	<form name="input" action="http://www.fbi.h-da.de/cgi-bin/Echo.pl" method="get">
	<div class="artikel">
		<img src="pizza.png" alt="Pizzaaa!!" height="90" width="130" onClick="Hinzufuegen(0)"> Margherita&nbsp;4,00€ <br/>
		<img src="pizza.png" alt="Pizzaaa!!" height="90" width="130" onClick="Hinzufuegen(1)"> Salami&nbsp;4,50€<br/>
		<img src="pizza.png" alt="Pizzaaa!!" height="90" width="130" onClick="Hinzufuegen(2)"> Hawaii&nbsp;5,50€
	</div>
	<div class="bestellung">
		<select name="pizzasToOrder" size="10" style="width: 250px" multiple></select>
		<br/>

	<input name="price" type="text" value="Preis: 0.00€" size="30" disabled>
	<br/>
	<br/>
	<input type="text" name="addressentry" size="30" placeholder="Name, Straße Hausnummer"/> <br/>
	<button type="button" onClick="resetAll()">Alle Löschen</button> 
	<button type="button" onClick="deleteSelected()">Auswahl Löschen</button> 	
	<button type="button" onClick="bestellen()">Bestellen</button> 
	
	
	</div>
	</form>
	</body>
</html>